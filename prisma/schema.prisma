generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "mysql"
  url      = env("DATABASE_URL")
}

model Transactions {
  id              Int                 @id @default(autoincrement()) @db.UnsignedInt
  user_id         Int                 @db.UnsignedInt
  created_user_id Int                 @db.UnsignedInt
  amount          Decimal             @db.Decimal(32, 2)
  fee             Decimal             @default(0.00) @db.Decimal(32, 2)
  cr_db           Transactions_cr_db
  type            Transactions_type
  attachment      Bytes?              @db.MediumBlob
  note            String?             @db.VarChar(256)
  status          Transactions_status
  created_at      DateTime            @default(now()) @db.Timestamp(0)
  updated_at      DateTime            @default(now()) @db.Timestamp(0)
  Users           Users               @relation(fields: [id], references: [id], onUpdate: Restrict, map: "Transactions_ibfk_1")
}

model Users {
  id                 Int           @id @default(autoincrement()) @db.UnsignedInt
  minecraft_uuid     String        @unique(map: "minecraft_uuid") @db.VarChar(36)
  minecraft_username String        @unique(map: "minecraft_username") @db.VarChar(24)
  discord_username   String        @unique(map: "discord_username") @db.VarChar(32)
  password           String        @db.Char(60)
  created_at         DateTime      @default(now()) @db.Timestamp(0)
  updated_at         DateTime      @default(now()) @db.Timestamp(0)
  Transactions       Transactions?
}

enum Transactions_cr_db {
  CREDIT
  DEBIT
}

enum Transactions_type {
  DEPOSIT
  WITHDRAW
  INTEREST
}

enum Transactions_status {
  FAILED
  PENDING
  SUCCESS
}
